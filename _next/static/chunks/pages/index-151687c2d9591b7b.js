(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9208:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2051)}])},2051:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var o=n(5893),a=n(3482),s=n(7294),c=n(9239),i=n(7080),d=n(6154);let r=(e=>{let{baseURL:t,fetch:n}=e,o=(void 0===t?"":t).replace(/\/$/,""),a="/dolan",s="/health",c="/langchain",d="/raspi",r="/tasks",l="/trends",_="POST",u="DELETE",h="PATCH";return{dolan:{get:e=>n(o,a,"GET",e).text(),$get:e=>n(o,a,"GET",e).text().then(e=>e.body),post:e=>n(o,a,_,e).json(),$post:e=>n(o,a,_,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(a)},health:{get:e=>n(o,s,"GET",e).text(),$get:e=>n(o,s,"GET",e).text().then(e=>e.body),$path:()=>"".concat(o).concat(s)},langchain:{get:e=>n(o,c,"GET",e).text(),$get:e=>n(o,c,"GET",e).text().then(e=>e.body),post:e=>n(o,c,_,e).json(),$post:e=>n(o,c,_,e).json().then(e=>e.body),$path:()=>"".concat(o).concat(c)},raspi:{get:e=>n(o,d,"GET",e).text(),$get:e=>n(o,d,"GET",e).text().then(e=>e.body),post:e=>n(o,d,_,e).text(),$post:e=>n(o,d,_,e).text().then(e=>e.body),$path:()=>"".concat(o).concat(d)},tasks:{_taskId:e=>{let t="".concat(r,"/").concat(e);return{patch:e=>n(o,t,h,e).send(),$patch:e=>n(o,t,h,e).send().then(e=>e.body),delete:e=>n(o,t,u,e).send(),$delete:e=>n(o,t,u,e).send().then(e=>e.body),$path:()=>"".concat(o).concat(t)}},get:e=>n(o,r,"GET",e).json(),$get:e=>n(o,r,"GET",e).json().then(e=>e.body),post:e=>n(o,r,_,e).json(),$post:e=>n(o,r,_,e).json().then(e=>e.body),$path:e=>"".concat(o).concat(r).concat(e&&e.query?"?".concat((0,i._K)(e.query)):"")},trends:{get:e=>n(o,l,"GET",e).json(),$get:e=>n(o,l,"GET",e).json().then(e=>e.body),$path:()=>"".concat(o).concat(l)},get:e=>n(o,"","GET",e).text(),$get:e=>n(o,"","GET",e).text().then(e=>e.body),$path:()=>"".concat(o)}})((0,c.Z)(d.Z.create({withCredentials:!0})));var l=n(2729),_=n.n(l),u=()=>{let[e,t]=(0,s.useState)(!1),[n,c]=(0,s.useState)(""),[i,d]=(0,s.useState)(0),l=n.substring(0,i),u=(0,s.useRef)(null),[h,x]=(0,s.useState)({}),[p,g]=(0,s.useState)([]),[m,v]=(0,s.useState)(-1),[j,b]=(0,s.useState)(""),y=async()=>{console.log("押した");let e=await r.raspi.$post({body:{id:"nisinoanase"}});console.log("1",e)};return(0,o.jsxs)("div",{className:_().container,children:[(0,o.jsx)("div",{className:_().conversationList,children:p.slice().reverse().map((e,t)=>(0,o.jsxs)("div",{className:_().messageBox,children:[(0,o.jsx)("div",{style:{maxHeight:m===t?"none":"100px",overflow:"hidden"},children:e.message}),e.message.length>40&&m!==t&&(0,o.jsx)("button",{onClick:()=>v(t),children:"read more"}),m===t&&(0,o.jsx)("button",{onClick:()=>v(-1),children:"close"})]},t))}),(0,o.jsx)("div",{className:_().gridContainer}),(0,o.jsx)("button",{className:_().buttonAskDoraemon,onClick:()=>y(),children:"教えてDOLAN"}),(0,o.jsx)("div",{className:_().doraemonImage}),(0,o.jsx)("div",{ref:u,className:_().quote,children:l}),(0,o.jsx)("div",{className:_().dolanLabel,children:"DOLAN"}),e&&(0,o.jsx)("div",{className:_().overlay,children:(0,o.jsxs)("div",{className:_().inputModal,children:[(0,o.jsx)("input",{type:"text",className:_().inputarea,placeholder:"ここに質問を入力",value:j,onChange:e=>{b(e.target.value)}}),(0,o.jsx)("div",{className:_().closeButton,children:(0,o.jsx)(a.Z,{onClick:()=>t(!1)})})]})})]})}},2729:function(e){e.exports={container:"index_container___q52_",conversationList:"index_conversationList__wZg0q",messageBox:"index_messageBox__pyWI4",gridContainer:"index_gridContainer__GN9wk",gridItem:"index_gridItem__v7Pnw",switchCover:"index_switchCover__e23_L",FontAwesomeIconCover:"index_FontAwesomeIconCover__zVwZr",buttonAskDoraemon:"index_buttonAskDoraemon__kgcQS",dolanLabel:"index_dolanLabel__Pjevi",doraemonImage:"index_doraemonImage__80TQJ",quote:"index_quote__3NMTm",overlay:"index_overlay__KG8_4",inputModal:"index_inputModal___TLdL",inputarea:"index_inputarea__FZHLB",sendButton:"index_sendButton__Yndkl",closeButton:"index_closeButton__RnpYB"}}},function(e){e.O(0,[914,774,888,179],function(){return e(e.s=9208)}),_N_E=e.O()}]);